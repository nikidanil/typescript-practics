# Задача 3: Типизированный Fetch (`get-data`)

## Описание задачи

Создать универсальную функцию-обёртку `getData` для выполнения HTTP-запросов, которая:
1.  Принимает URL и возвращает Promise с данными.
2.  **Типизирована с помощью дженериков**, чтобы вызывающий код мог указать ожидаемый тип ответа.
3.  Корректно обрабатывает ошибки HTTP (статусы 4xx/5xx).

## Решаемая проблема / Изучаемая концепция

**Проблема:** Нативный `fetch` возвращает Promise с `any`, что лишает преимуществ TypeScript и может привести к ошибкам времени выполнения из-за несоответствия структуры ожидаемых данных.

**Решение в TypeScript:** Использование **Дженериков (Generics)** для создания универсальной функции, которая возвращает данные типа, указанного пользователем. Это обеспечивает типобезопасность при работе с ответом от API.

## Ключевые элементы решения

1.  **Функция `getData<T>`:**
    *   Объявлена с generic-параметром `<T>`, который представляет тип ожидаемых данных.
    *   Возвращает `Promise<T>`, что заставляет TypeScript проверять типы на всём пути обработки данных.
2.  **Обработка ошибок:** Проверка `res.ok` и выброс ошибки при неудачном HTTP-статусе.
3.  **Типизация ответа:** Использование `await res.json() as T` для явного указания типа данных (на практике в строгих проектах могут использоваться схемы валидации, например, Zod).

## Как запустить и протестировать

1.  Убедитесь, что вы находитесь в ветке `get-data`:
    ```bash
    git checkout get-data
    ```
2.  Запустите код:
    ```bash
    npm run dev
    ```
    Вы должны увидеть в консоли список постов (ID и Title), полученных с JSONPlaceholder API.

3.  **Для проверки типов:** Попробуйте в блоке `.then` обратиться к несуществующему свойству поста, например, `post.unknownProperty`. TypeScript сразу укажет на ошибку.

## Пример использования

```typescript
// Определяем интерфейс для ожидаемых данных
interface User {
  id: number;
  name: string;
  email: string;
}

// Используем функцию, явно указывая тип
getData<User[]>('https://jsonplaceholder.typicode.com/users')
  .then((users) => { // `users` имеет тип User[]
    users.forEach(user => {
      console.log(user.name); // TypeScript знает, что у `user` есть свойство `name`
      // console.log(user.age); // Ошибка TS: Свойство 'age' не существует у типа 'User'
    });
  })
  .catch((error) => {
    console.error('Failed to load users:', error);
  });
